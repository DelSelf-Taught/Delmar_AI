import requests
from bs4 import BeautifulSoup
import pandas as pd

# URL do ClimaTempo
url = 'https://www.climatempo.com.br/'

# Função que visita a URL e exibe resultados
def visit(url):
    response = requests.get(url)  # Faz a requisição
    html = response.text          # Pega o HTML da página
    soup = BeautifulSoup(html, 'lxml')  # Cria o parser com BeautifulSoup

    new_link = []  # Lista para armazenar links encontrados

    print("\n🔍 Todos os elementos <div> encontrados:")
    for div in soup.find_all('div'):
        print(f"Resultado foi: {div}\n")

    # Pegando o primeiro link <a> da página
    first_link = soup.find('a')
    if first_link:
        new_link.append(first_link['href'] if 'href' in first_link.attrs else 'Link sem href')

    print("\n🔗 Primeiro link encontrado:")
    print(new_link)

    # Pegando o primeiro parágrafo <p>
    tag_p = soup.find('p')
    print("\n📝 Primeira tag <p> encontrada:")
    print(tag_p.text if tag_p else 'Nenhuma tag <p> encontrada')

    return soup  # Retorna o objeto BeautifulSoup (útil se quiser fazer mais coisas depois)

# Chamada da função
soup_resultado = visit(url)
